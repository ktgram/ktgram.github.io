<!doctype html><html class=no-js lang=ko><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><meta content="Telegram Bot API wrapper with handy Kotlin DSL." name=description><link href=https://tgbot.vendeli.eu/ko/Bot-configuration/ rel=canonical><link href=../Bot-Context/ rel=prev><link href=../F.A.Q/ rel=next><link href=../../Bot-configuration/ hreflang=en rel=alternate><link href=../../zh/Bot-configuration/ hreflang=zh rel=alternate><link href=../../hi/Bot-configuration/ hreflang=hi rel=alternate><link href=../../ru/Bot-configuration/ hreflang=ru rel=alternate><link href=./ hreflang=ko rel=alternate><link href=../../fa/Bot-configuration/ hreflang=fa rel=alternate><link href=../../pt/Bot-configuration/ hreflang=pt rel=alternate><link href=../../id/Bot-configuration/ hreflang=id rel=alternate><link href=../../vi/Bot-configuration/ hreflang=vi rel=alternate><link href=../../assets/img/lib-logo.png rel=icon><meta content="mkdocs-1.6.1, mkdocs-material-9.7.1" name=generator><title>봇 구성 - Telegram bot</title><link href=../../assets/stylesheets/main.484c7ddc.min.css rel=stylesheet><link href=../../assets/stylesheets/palette.ab4e12ef.min.css rel=stylesheet><link crossorigin href=https://fonts.gstatic.com rel=preconnect><link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback" rel=stylesheet><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link href=../../assets/stylesheets/extra.css rel=stylesheet><script>__md_scope=new URL(`../..`,location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+`.`+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+`.`+e,JSON.stringify(_))}catch{}};</script><body data-md-color-accent=indigo data-md-color-primary=indigo data-md-color-scheme=slate dir=ltr><input autocomplete=off class=md-toggle data-md-toggle=drawer id=__drawer type=checkbox><input autocomplete=off class=md-toggle data-md-toggle=search id=__search type=checkbox><label class=md-overlay for=__drawer></label><div data-md-component=skip><a class=md-skip href=#configurator> 콘텐츠로 이동 </a></div><div data-md-component=announce></div><header class=md-header data-md-component=header><nav class="md-header__inner md-grid" aria-label=상단/헤더><a aria-label="Telegram bot" class="md-header__button md-logo" title="Telegram bot" data-md-component=logo href=../> <img alt=logo src=../../assets/img/lib-logo.png> </a><label class="md-header__button md-icon" for=__drawer><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg></label><div class=md-header__title data-md-component=header-title><div class=md-header__ellipsis><div class=md-header__topic><span class=md-ellipsis> Telegram bot </span></div><div class=md-header__topic data-md-component=header-topic><span class=md-ellipsis> 봇 구성 </span></div></div></div><form class=md-header__option data-md-component=palette><input aria-label="Switch to light mode" data-md-color-media="(prefers-color-scheme: dark)" class=md-option data-md-color-accent=indigo data-md-color-primary=indigo data-md-color-scheme=slate id=__palette_0 name=__palette type=radio><label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg></label><input aria-label="Switch to dark mode" data-md-color-media="(prefers-color-scheme: light)" class=md-option data-md-color-accent=indigo data-md-color-primary=indigo data-md-color-scheme=default id=__palette_1 name=__palette type=radio><label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_0 hidden><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg></label></form><script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script><div class=md-header__option><div class=md-select><button class="md-header__button md-icon" aria-label=언어설정><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg></button><div class=md-select__inner><ul class=md-select__list><li class=md-select__item><a class=md-select__link href=../../Bot-configuration/ hreflang=en> English </a><li class=md-select__item><a class=md-select__link href=../../zh/Bot-configuration/ hreflang=zh> 中文 </a><li class=md-select__item><a class=md-select__link href=../../hi/Bot-configuration/ hreflang=hi> हिन्दी </a><li class=md-select__item><a class=md-select__link href=../../ru/Bot-configuration/ hreflang=ru> Русский </a><li class=md-select__item><a class=md-select__link href=./ hreflang=ko> 한국어 </a><li class=md-select__item><a class=md-select__link href=../../fa/Bot-configuration/ hreflang=fa> فارسی </a><li class=md-select__item><a class=md-select__link href=../../pt/Bot-configuration/ hreflang=pt> Português </a><li class=md-select__item><a class=md-select__link href=../../id/Bot-configuration/ hreflang=id> Bahasa Indonesia </a><li class=md-select__item><a class=md-select__link href=../../vi/Bot-configuration/ hreflang=vi> Tiếng Việt </a></ul></div></div></div><label class="md-header__button md-icon" for=__search><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg></label><div class=md-search data-md-component=search role=dialog><label class=md-search__overlay for=__search></label><div class=md-search__inner role=search><form class=md-search__form name=search><input aria-label=검색 autocapitalize=off autocomplete=off autocorrect=off class=md-search__input data-md-component=search-query name=query placeholder=검색 required spellcheck=false type=text><label class="md-search__icon md-icon" for=__search><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg></label><nav aria-label=검색 class=md-search__options><a class="md-search__icon md-icon" aria-label=공유 data-clipboard data-clipboard-text data-md-component=search-share href=javascript:void(0) tabindex=-1 title=공유> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a><button class="md-search__icon md-icon" aria-label=지우기 tabindex=-1 title=지우기 type=reset><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg></button></nav></form><div class=md-search__output><div class=md-search__scrollwrap data-md-scrollfix tabindex=0><div class=md-search-result data-md-component=search-result><div class=md-search-result__meta>검색 초기화</div><ol class=md-search-result__list role=presentation></ol></div></div></div></div></div><div class=md-header__source><a title="저장소로 이동" class=md-source data-md-component=source href=https://github.com/vendelieu/telegram-bot> <div class="md-source__icon md-icon"><svg viewbox="0 0 512 512" xmlns=http://www.w3.org/2000/svg><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg></div> <div class=md-source__repository>vendelieu/telegram-bot</div> </a></div></nav></header><div class=md-container data-md-component=container><nav aria-label=탭 class=md-tabs data-md-component=tabs><div class=md-grid><ul class=md-tabs__list><li class=md-tabs__item><a class=md-tabs__link href=../> Home </a><li class="md-tabs__item md-tabs__item--active"><a class=md-tabs__link href=../Actions/> Documentation </a><li class=md-tabs__item><a class=md-tabs__link href=https://vendelieu.github.io/telegram-bot/> API Reference </a></ul></div></nav><main class=md-main data-md-component=main><div class="md-main__inner md-grid"><div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation><div class=md-sidebar__scrollwrap><div class=md-sidebar__inner><nav class="md-nav md-nav--primary md-nav--lifted" aria-label=네비게이션 data-md-level=0><label class=md-nav__title for=__drawer><a aria-label="Telegram bot" class="md-nav__button md-logo" title="Telegram bot" data-md-component=logo href=../> <img alt=logo src=../../assets/img/lib-logo.png> </a> Telegram bot</label><div class=md-nav__source><a title="저장소로 이동" class=md-source data-md-component=source href=https://github.com/vendelieu/telegram-bot> <div class="md-source__icon md-icon"><svg viewbox="0 0 512 512" xmlns=http://www.w3.org/2000/svg><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg></div> <div class=md-source__repository>vendelieu/telegram-bot</div> </a></div><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a class=md-nav__link href=../> <span class=md-ellipsis> Home </span> </a><li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"><input class="md-nav__toggle md-toggle" checked id=__nav_2 type=checkbox> <label class=md-nav__link for=__nav_2 id=__nav_2_label><span class=md-ellipsis> Documentation </span> <span class="md-nav__icon md-icon"></span></label> <nav aria-expanded=true aria-labelledby=__nav_2_label class=md-nav data-md-level=1><label class=md-nav__title for=__nav_2><span class="md-nav__icon md-icon"></span> Documentation</label><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a class=md-nav__link href=../Actions/> <span class=md-ellipsis> Actions </span> </a><li class=md-nav__item><a class=md-nav__link href=../Activites-and-Processors/> <span class=md-ellipsis> Activites And Processors </span> </a><li class=md-nav__item><a class=md-nav__link href=../Activity-invocation/> <span class=md-ellipsis> Activity Invocation </span> </a><li class=md-nav__item><a class=md-nav__link href=../Bot-Context/> <span class=md-ellipsis> 봇 컨텍스트 </span> </a><li class="md-nav__item md-nav__item--active"><input class="md-nav__toggle md-toggle" id=__toc type=checkbox> <label class="md-nav__link md-nav__link--active" for=__toc><span class=md-ellipsis> 봇 구성 </span> <span class="md-nav__icon md-icon"></span></label> <a class="md-nav__link md-nav__link--active" href=./> <span class=md-ellipsis> 봇 구성 </span> </a> <nav aria-label="On this page" class="md-nav md-nav--secondary"><label class=md-nav__title for=__toc><span class="md-nav__icon md-icon"></span> On this page</label><ul class=md-nav__list data-md-component=toc data-md-scrollfix><li class=md-nav__item><a class=md-nav__link href=#configurator> <span class=md-ellipsis> Configurator 람다 </span> </a><li class=md-nav__item><a class=md-nav__link href=#configloader> <span class=md-ellipsis> ConfigLoader 인터페이스 </span> </a><li class=md-nav__item><a class=md-nav__link href=#botconfiguration> <span class=md-ellipsis> BotConfiguration 개요 </span> </a> <nav aria-label="BotConfiguration 개요" class=md-nav><ul class=md-nav__list><li class=md-nav__item><a class=md-nav__link href=#botconfiguration_1> <span class=md-ellipsis> BotConfiguration </span> </a> <nav aria-label=BotConfiguration class=md-nav><ul class=md-nav__list><li class=md-nav__item><a class=md-nav__link href=#_1> <span class=md-ellipsis> 속성 </span> </a><li class=md-nav__item><a class=md-nav__link href=#_2> <span class=md-ellipsis> 구성 블록 </span> </a></ul></nav></ul></nav><li class=md-nav__item><a class=md-nav__link href=#_3> <span class=md-ellipsis> 관련 구성 클래스 </span> </a> <nav aria-label="관련 구성 클래스" class=md-nav><ul class=md-nav__list><li class=md-nav__item><a class=md-nav__link href=#ratelimiterconfiguration> <span class=md-ellipsis> RateLimiterConfiguration </span> </a><li class=md-nav__item><a class=md-nav__link href=#httpconfiguration> <span class=md-ellipsis> HttpConfiguration </span> </a><li class=md-nav__item><a class=md-nav__link href=#loggingconfiguration> <span class=md-ellipsis> LoggingConfiguration </span> </a><li class=md-nav__item><a class=md-nav__link href=#updateslistenerconfiguration> <span class=md-ellipsis> UpdatesListenerConfiguration </span> </a><li class=md-nav__item><a class=md-nav__link href=#commandparsingconfiguration> <span class=md-ellipsis> CommandParsingConfiguration </span> </a></ul></nav><li class=md-nav__item><a class=md-nav__link href=#_4> <span class=md-ellipsis> 구성 예시 </span> </a></ul></nav><li class=md-nav__item><a class=md-nav__link href=../F.A.Q/> <span class=md-ellipsis> F.A.Q </span> </a><li class=md-nav__item><a class=md-nav__link href=../FSM-and-Conversation-handling/> <span class=md-ellipsis> FSM 및 대화 처리 </span> </a><li class=md-nav__item><a class=md-nav__link href=../Functional-DSL/> <span class=md-ellipsis> 함수형 DSL </span> </a><li class=md-nav__item><a class=md-nav__link href=../Guards/> <span class=md-ellipsis> Guards </span> </a><li class=md-nav__item><a class=md-nav__link href=../Handlers/> <span class=md-ellipsis> 핸들러 </span> </a><li class=md-nav__item><a class=md-nav__link href=../Interceptors-%28middleware%29/> <span class=md-ellipsis> 인터셉터 (미들웨어) </span> </a><li class=md-nav__item><a class=md-nav__link href=../Update-parsing/> <span class=md-ellipsis> 업데이트 파싱 </span> </a><li class=md-nav__item><a class=md-nav__link href=../Useful-utilities-and-tips/> <span class=md-ellipsis> 유용한 유틸리티와 팁 </span> </a><li class=md-nav__item><a class=md-nav__link href=../Web-starters-%28Spring-and-Ktor%29/> <span class=md-ellipsis> Web Starters (Spring And Ktor) </span> </a></ul></nav><li class=md-nav__item><a class=md-nav__link href=https://vendelieu.github.io/telegram-bot/> <span class=md-ellipsis> API Reference </span> </a></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc><div class=md-sidebar__scrollwrap><div class=md-sidebar__inner><nav aria-label="On this page" class="md-nav md-nav--secondary"><label class=md-nav__title for=__toc><span class="md-nav__icon md-icon"></span> On this page</label><ul class=md-nav__list data-md-component=toc data-md-scrollfix><li class=md-nav__item><a class=md-nav__link href=#configurator> <span class=md-ellipsis> Configurator 람다 </span> </a><li class=md-nav__item><a class=md-nav__link href=#configloader> <span class=md-ellipsis> ConfigLoader 인터페이스 </span> </a><li class=md-nav__item><a class=md-nav__link href=#botconfiguration> <span class=md-ellipsis> BotConfiguration 개요 </span> </a> <nav aria-label="BotConfiguration 개요" class=md-nav><ul class=md-nav__list><li class=md-nav__item><a class=md-nav__link href=#botconfiguration_1> <span class=md-ellipsis> BotConfiguration </span> </a> <nav aria-label=BotConfiguration class=md-nav><ul class=md-nav__list><li class=md-nav__item><a class=md-nav__link href=#_1> <span class=md-ellipsis> 속성 </span> </a><li class=md-nav__item><a class=md-nav__link href=#_2> <span class=md-ellipsis> 구성 블록 </span> </a></ul></nav></ul></nav><li class=md-nav__item><a class=md-nav__link href=#_3> <span class=md-ellipsis> 관련 구성 클래스 </span> </a> <nav aria-label="관련 구성 클래스" class=md-nav><ul class=md-nav__list><li class=md-nav__item><a class=md-nav__link href=#ratelimiterconfiguration> <span class=md-ellipsis> RateLimiterConfiguration </span> </a><li class=md-nav__item><a class=md-nav__link href=#httpconfiguration> <span class=md-ellipsis> HttpConfiguration </span> </a><li class=md-nav__item><a class=md-nav__link href=#loggingconfiguration> <span class=md-ellipsis> LoggingConfiguration </span> </a><li class=md-nav__item><a class=md-nav__link href=#updateslistenerconfiguration> <span class=md-ellipsis> UpdatesListenerConfiguration </span> </a><li class=md-nav__item><a class=md-nav__link href=#commandparsingconfiguration> <span class=md-ellipsis> CommandParsingConfiguration </span> </a></ul></nav><li class=md-nav__item><a class=md-nav__link href=#_4> <span class=md-ellipsis> 구성 예시 </span> </a></ul></nav></div></div></div><div class=md-content data-md-component=content><article class="md-content__inner md-typeset"><h1>봇 구성</h1><p>라이브러리는 다양한 구성 옵션을 제공하며, <a href=https://vendelieu.github.io/telegram-bot/telegram-bot/eu.vendeli.tgbot.types.configuration/-bot-configuration/index.html><code>BotConfiguration</code></a> 클래스 설명에서 API 참조를 확인할 수 있습니다.<p>봇을 구성하는 두 가지 접근 방식도 있습니다:<h3 id=configurator>Configurator 람다<a title="Permanent link" class=headerlink href=#configurator>¶</a></h3><div class=highlight><pre><span></span><code><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=c1>// ...</span>
<a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a><span class=kd>val</span><span class=w> </span><span class=nv>bot</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>TelegramBot</span><span class=p>(</span><span class=s>"BOT_TOKEN"</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a href=#__codelineno-0-3 id=__codelineno-0-3 name=__codelineno-0-3></a><span class=w>  </span><span class=n>inputListener</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>RedisInputListenerImpl</span><span class=p>()</span>
<a href=#__codelineno-0-4 id=__codelineno-0-4 name=__codelineno-0-4></a><span class=w>  </span><span class=n>classManager</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>KoinClassManagerImpl</span><span class=p>()</span>
<a href=#__codelineno-0-5 id=__codelineno-0-5 name=__codelineno-0-5></a><span class=w>  </span><span class=n>logging</span><span class=w> </span><span class=p>{</span>
<a href=#__codelineno-0-6 id=__codelineno-0-6 name=__codelineno-0-6></a><span class=w>      </span><span class=n>botLogLevel</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>LogLvl</span><span class=p>.</span><span class=na>DEBUG</span>
<a href=#__codelineno-0-7 id=__codelineno-0-7 name=__codelineno-0-7></a><span class=w>  </span><span class=p>}</span>
<a href=#__codelineno-0-8 id=__codelineno-0-8 name=__codelineno-0-8></a><span class=p>}</span>
<a href=#__codelineno-0-9 id=__codelineno-0-9 name=__codelineno-0-9></a><span class=c1>// ...</span>
</code></pre></div><h3 id=configloader>ConfigLoader 인터페이스<a title="Permanent link" class=headerlink href=#configloader>¶</a></h3><p><a href=https://vendelieu.github.io/telegram-bot/telegram-bot/eu.vendeli.tgbot.interfaces.helper/-config-loader/index.html><code>ConfigLoader</code></a> 인터페이스를 통해 구성할 수도 있습니다.<br> 이를 사용하여 <code>properties</code>, <code>command line args</code> 등의 외부 소스에서 설정을 로드할 수 있습니다.<p>이 인터페이스의 구현은 보조 생성자를 통해 전달할 수 있으며, 인스턴스는 이에 따라 구성됩니다.<div class=highlight><pre><span></span><code><a href=#__codelineno-1-1 id=__codelineno-1-1 name=__codelineno-1-1></a><span class=kd>val</span><span class=w> </span><span class=nv>bot</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>TelegramBot</span><span class=p>(</span><span class=n>ConfigLoaderImpl</span><span class=p>)</span>
</code></pre></div><p>현재 <code>ktgram-config-env</code>, <code>ktgram-config-toml</code>과 같이 이 인터페이스를 구현하는 여러 모듈이 제공됩니다.<h3 id=botconfiguration>BotConfiguration 개요<a title="Permanent link" class=headerlink href=#botconfiguration>¶</a></h3><h4 id=botconfiguration_1>BotConfiguration<a title="Permanent link" class=headerlink href=#botconfiguration_1>¶</a></h4><p><code>BotConfiguration</code> 클래스는 봇 구성의 중앙 허브입니다. 봇 식별, API 호스트 설정, 봇이 테스트 환경에서 작동하는지 여부 결정, 입력 처리, 클래스 관리, 입력 자동 제거 제어 속성을 포함합니다. 또한 속도 제한, HTTP 클라이언트 구성, 로깅, 업데이트 수신, 명령 구문 분석을 위한 내부 속성을 제공합니다.<h5 id=_1>속성<a title="Permanent link" class=headerlink href=#_1>¶</a></h5><ul><li><code>identifier</code>: 다중 봇 처리 중 서로 다른 봇 인스턴스를 식별합니다.<li><code>apiHost</code>: Telegram API의 호스트입니다.<li><code>isTestEnv</code>: 봇이 테스트 환경에서 작동하는지 여부를 나타내는 플래그입니다.<li><code>inputListener</code>: 입력 처리 클래스의 인스턴스입니다.<li><code>classManager</code>: 클래스를 가져오는 데 사용되는 관리자입니다.<li><code>inputAutoRemoval</code>: 처리 중 입력 지점의 자동 삭제를 조절하는 플래그입니다.<li><code>exceptionHandlingStrategy</code>: 예외 처리 전략을 정의합니다.<ul><li><code>CollectToChannel</code> - <code>TgUpdateHandler.caughtExceptions</code>로 수집합니다.<li><code>Throw</code> - <code>TgException</code>으로 다시 던집니다.<li><code>DoNothing</code> - 아무것도 하지 않습니다 :)<li><code>Handle</code> - 사용자 정의 핸들러를 설정합니다.</ul><li><code>throwExOnActionsFailure</code>: 봇 요청이 실패할 때 예외를 던집니다.</ul><h5 id=_2>구성 블록<a title="Permanent link" class=headerlink href=#_2>¶</a></h5><p><code>BotConfiguration</code>은 내부 구성 요소를 구성하는 기능도 제공합니다:<ul><li><code>httpClient(block: HttpConfiguration.() -> Unit)</code>: HTTP 클라이언트를 구성합니다.<li><code>logging(block: LoggingConfiguration.() -> Unit)</code>: 로깅을 구성합니다.<li><code>rateLimiter(block: RateLimiterConfiguration.() -> Unit)</code>: 요청 제한을 구성합니다.<li><code>updatesListener(block: UpdatesListenerConfiguration.() -> Unit)</code>: 업데이트 수신기를 구성합니다.<li><code>commandParsing(block: CommandParsingConfiguration.() -> Unit)</code>: 명령 구문 분석 패턴을 지정합니다.</ul><h3 id=_3>관련 구성 클래스<a title="Permanent link" class=headerlink href=#_3>¶</a></h3><h4 id=ratelimiterconfiguration>RateLimiterConfiguration<a title="Permanent link" class=headerlink href=#ratelimiterconfiguration>¶</a></h4><p>전역 속도 제한을 구성합니다.<ul><li><code>limits</code>: 전역 속도 제한입니다.<li><code>mechanism</code>: 속도 제한에 사용되는 메커니즘, 기본값은 TokenBucket 알고리즘입니다.<li><code>exceededAction</code>: 제한을 초과할 때 적용되는 작업입니다.</ul><h4 id=httpconfiguration>HttpConfiguration<a title="Permanent link" class=headerlink href=#httpconfiguration>¶</a></h4><p>봇의 HTTP 클라이언트 구성을 포함합니다.<ul><li><code>requestTimeoutMillis</code>: 요청 제한 시간(밀리초 단위).<li><code>connectTimeoutMillis</code>: 연결 제한 시간(밀리초 단위).<li><code>socketTimeoutMillis</code>: 소켓 제한 시간(밀리초 단위).<li><code>maxRequestRetry</code>: HTTP 요청의 최대 재시도 횟수입니다.<li><code>retryStrategy</code>: 재시도 전략, 사용자 정의 가능합니다.<li><code>retryDelay</code>: 각 재시도에서 제한 시간의 승수입니다.<li><code>proxy</code>: HTTP 호출을 위한 프록시 설정입니다.<li><code>additionalHeaders</code>: 모든 요청에 적용되는 헤더입니다.</ul><h4 id=loggingconfiguration>LoggingConfiguration<a title="Permanent link" class=headerlink href=#loggingconfiguration>¶</a></h4><p>봇 작업 및 HTTP 요청에 대한 로깅 수준을 관리합니다.<ul><li><code>botLogLevel</code>: 봇 작업에 대한 로그 수준입니다.<li><code>httpLogLevel</code>: HTTP 요청에 대한 로그 수준입니다.</ul><h4 id=updateslistenerconfiguration>UpdatesListenerConfiguration<a title="Permanent link" class=headerlink href=#updateslistenerconfiguration>¶</a></h4><p>업데이트 가져오기와 관련된 매개변수를 구성합니다.<ul><li><code>dispatcher</code>: 들어오는 업데이트를 수집하는 디스패처입니다.<li><code>processingDispatcher</code>: 업데이트를 처리하는 디스패처입니다.<li><code>pullingDelay</code>: 각 가져오기 요청 후 지연 시간입니다.<li><code>updatesPollingTimeout</code>: 장기 폴링 메커니즘에 대한 제한 시간 옵션입니다.</ul><h4 id=commandparsingconfiguration>CommandParsingConfiguration<a title="Permanent link" class=headerlink href=#commandparsingconfiguration>¶</a></h4><p>명령 구문 분석에 대한 매개변수를 지정합니다.<ul><li><code>commandDelimiter</code>: 명령과 매개변수 사이의 구분자입니다.<li><code>parametersDelimiter</code>: 매개변수 사이의 구분자입니다.<li><code>parameterValueDelimiter</code>: 매개변수의 키와 값 사이의 구분자입니다.<li><code>restrictSpacesInCommands</code>: 명령의 공백을 명령의 끝으로 처리할지 여부를 나타내는 플래그입니다.<li><code>useIdentifierInGroupCommands</code>: 봇 식별자를 사용하여 @를 포함하는 명령을 일치시킵니다.</ul><h3 id=_4>구성 예시<a title="Permanent link" class=headerlink href=#_4>¶</a></h3><p>다음은 이러한 클래스를 사용하여 봇을 구성하는 예시입니다:<div class=highlight><pre><span></span><code><a href=#__codelineno-2-1 id=__codelineno-2-1 name=__codelineno-2-1></a><span class=kd>val</span><span class=w> </span><span class=nv>bot</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>TelegramBot</span><span class=p>(</span><span class=s>"TOKEN"</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a href=#__codelineno-2-2 id=__codelineno-2-2 name=__codelineno-2-2></a><span class=w>    </span><span class=n>identifier</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>"MyBot"</span><span class=p>,</span>
<a href=#__codelineno-2-3 id=__codelineno-2-3 name=__codelineno-2-3></a><span class=w>    </span><span class=n>apiHost</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>"https://api.telegram.org"</span><span class=p>,</span>
<a href=#__codelineno-2-4 id=__codelineno-2-4 name=__codelineno-2-4></a><span class=w>    </span><span class=n>isTestEnv</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
<a href=#__codelineno-2-5 id=__codelineno-2-5 name=__codelineno-2-5></a><span class=w>    </span><span class=n>inputListener</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>InputListenerMapImpl</span><span class=p>(),</span>
<a href=#__codelineno-2-6 id=__codelineno-2-6 name=__codelineno-2-6></a><span class=w>    </span><span class=n>classManager</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>ClassManagerImpl</span><span class=p>(),</span>
<a href=#__codelineno-2-7 id=__codelineno-2-7 name=__codelineno-2-7></a>
<a href=#__codelineno-2-8 id=__codelineno-2-8 name=__codelineno-2-8></a><span class=w>    </span><span class=n>httpClient</span><span class=w> </span><span class=p>{</span>
<a href=#__codelineno-2-9 id=__codelineno-2-9 name=__codelineno-2-9></a><span class=w>        </span><span class=n>requestTimeoutMillis</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=m>5000L</span>
<a href=#__codelineno-2-10 id=__codelineno-2-10 name=__codelineno-2-10></a><span class=w>        </span><span class=n>connectTimeoutMillis</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=m>3000L</span>
<a href=#__codelineno-2-11 id=__codelineno-2-11 name=__codelineno-2-11></a><span class=w>        </span><span class=n>socketTimeoutMillis</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=m>2000L</span>
<a href=#__codelineno-2-12 id=__codelineno-2-12 name=__codelineno-2-12></a><span class=w>    </span><span class=p>}</span>
<a href=#__codelineno-2-13 id=__codelineno-2-13 name=__codelineno-2-13></a><span class=w>    </span><span class=n>logging</span><span class=w> </span><span class=p>{</span>
<a href=#__codelineno-2-14 id=__codelineno-2-14 name=__codelineno-2-14></a><span class=w>        </span><span class=n>botLogLevel</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>LogLvl</span><span class=p>.</span><span class=na>DEBUG</span>
<a href=#__codelineno-2-15 id=__codelineno-2-15 name=__codelineno-2-15></a><span class=w>        </span><span class=n>httpLogLevel</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>HttpLogLevel</span><span class=p>.</span><span class=na>BODY</span>
<a href=#__codelineno-2-16 id=__codelineno-2-16 name=__codelineno-2-16></a><span class=w>    </span><span class=p>}</span>
<a href=#__codelineno-2-17 id=__codelineno-2-17 name=__codelineno-2-17></a><span class=w>    </span><span class=n>updatesListener</span><span class=w> </span><span class=p>{</span>
<a href=#__codelineno-2-18 id=__codelineno-2-18 name=__codelineno-2-18></a><span class=w>        </span><span class=n>dispatcher</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Dispatchers</span><span class=p>.</span><span class=na>IO</span>
<a href=#__codelineno-2-19 id=__codelineno-2-19 name=__codelineno-2-19></a><span class=w>        </span><span class=n>processingDispatcher</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Dispatchers</span><span class=p>.</span><span class=na>Unconfined</span>
<a href=#__codelineno-2-20 id=__codelineno-2-20 name=__codelineno-2-20></a><span class=w>        </span><span class=n>pullingDelay</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=m>1000L</span>
<a href=#__codelineno-2-21 id=__codelineno-2-21 name=__codelineno-2-21></a><span class=w>    </span><span class=p>}</span>
<a href=#__codelineno-2-22 id=__codelineno-2-22 name=__codelineno-2-22></a><span class=w>    </span><span class=n>commandParsing</span><span class=w> </span><span class=p>{</span>
<a href=#__codelineno-2-23 id=__codelineno-2-23 name=__codelineno-2-23></a><span class=w>        </span><span class=n>commandDelimiter</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=sc>'*'</span>
<a href=#__codelineno-2-24 id=__codelineno-2-24 name=__codelineno-2-24></a><span class=w>        </span><span class=n>parametersDelimiter</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=sc>'&'</span>
<a href=#__codelineno-2-25 id=__codelineno-2-25 name=__codelineno-2-25></a><span class=w>        </span><span class=n>restrictSpacesInCommands</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>true</span>
<a href=#__codelineno-2-26 id=__codelineno-2-26 name=__codelineno-2-26></a><span class=w>    </span><span class=p>}</span>
<a href=#__codelineno-2-27 id=__codelineno-2-27 name=__codelineno-2-27></a><span class=p>}</span>
</code></pre></div><p>이 구성은 특정 식별자를 사용하여 봇을 설정하고, 테스트 환경 모드를 활성화하며, 속도 제한, HTTP 클라이언트 설정, 로깅 수준, 업데이트 수신기 매개변수, 명령 구문 분석 규칙을 구성합니다.<p>개발자는 이러한 구성 옵션을 활용하여 특정 요구 사항을 충족하고 다양한 운영 시나리오에서 성능을 최적화하도록 봇을 세밀하게 조정할 수 있습니다.</article></div><script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script></div><button class="md-top md-icon" data-md-component=top hidden type=button><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> 맨위로</button></main><footer class=md-footer><nav class="md-footer__inner md-grid" aria-label=하단/푸터><a aria-label="이전: 봇 컨텍스트" class="md-footer__link md-footer__link--prev" href=../Bot-Context/> <div class="md-footer__button md-icon"><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg></div> <div class=md-footer__title><span class=md-footer__direction> 이전 </span><div class=md-ellipsis>봇 컨텍스트</div></div> </a><a aria-label="다음: F.A.Q" class="md-footer__link md-footer__link--next" href=../F.A.Q/> <div class=md-footer__title><span class=md-footer__direction> 다음 </span><div class=md-ellipsis>F.A.Q</div></div> <div class="md-footer__button md-icon"><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg></div> </a></nav><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class=md-copyright>Made with <a href=https://squidfunk.github.io/mkdocs-material/ rel=noopener target=_blank> Material for MkDocs </a></div></div></div></footer></div><div class=md-dialog data-md-component=dialog><div class="md-dialog__inner md-typeset"></div></div><script id=__config type=application/json>{"annotate": null, "base": "../..", "features": ["content.code.annotate", "content.code.copy", "navigation.footer", "navigation.tabs", "navigation.top", "navigation.tracking", "search.share", "toc.follow"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "\ud074\ub9bd\ubcf4\ub4dc\uc5d0 \ubcf5\uc0ac\ub428", "clipboard.copy": "\ud074\ub9bd\ubcf4\ub4dc\ub85c \ubcf5\uc0ac", "search.result.more.one": "\uc774 \ubb38\uc11c\uc5d0\uc11c 1\uac1c\uc758 \uac80\uc0c9 \uacb0\uacfc \ub354 \ubcf4\uae30", "search.result.more.other": "\uc774 \ubb38\uc11c\uc5d0\uc11c #\uac1c\uc758 \uac80\uc0c9 \uacb0\uacfc \ub354 \ubcf4\uae30", "search.result.none": "\uac80\uc0c9\uc5b4\uc640 \uc77c\uce58\ud558\ub294 \ubb38\uc11c\uac00 \uc5c6\uc2b5\ub2c8\ub2e4", "search.result.one": "1\uac1c\uc758 \uc77c\uce58\ud558\ub294 \ubb38\uc11c", "search.result.other": "#\uac1c\uc758 \uc77c\uce58\ud558\ub294 \ubb38\uc11c", "search.result.placeholder": "\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud558\uc138\uc694", "search.result.term.missing": "\ud3ec\ud568\ub418\uc9c0 \uc54a\uc740 \uac80\uc0c9\uc5b4", "select.version": "\ubc84\uc804 \uc120\ud0dd"}, "version": null}</script><script src=../../assets/javascripts/bundle.79ae519e.min.js></script>