---
---
title: गार्ड
---

### परिचय
गार्ड विकासकर्ताओं के लिए एक आवश्यक सुविधा है जो बॉट बना रहे हैं। ये गार्ड प्री-एक्ज़ीक्यूशन चेक के रूप में कार्य करते हैं जो यह निर्धारित करते हैं कि क्या कोई विशेष कमांड निष्पादित किया जाना चाहिए। इन चेक को लागू करके, विकासकर्ता अपने बॉट की कार्यक्षमता, सुरक्षा और उपयोगकर्ता अनुभव को बढ़ा सकते हैं।

### एक्टिविटी गार्ड का उद्देश्य
एक्टिविटी गार्ड का प्राथमिक उद्देश्य यह सुनिश्चित करना है कि केवल अधिकृत उपयोगकर्ता या विशिष्ट स्थितियाँ ही एक एक्टिविटी को ट्रिगर करें।

यह दुरुपयोग को रोक सकता है, बॉट की अखंडता बनाए रख सकता है, और बातचीत को सुव्यवस्थित कर सकता है।

### सामान्य उपयोग के मामले
1. प्रमाणीकरण और प्राधिकरण: यह सुनिश्चित करना कि केवल कुछ उपयोगकर्ता विशिष्ट कमांड तक पहुंच सकते हैं।
2. पूर्व-स्थिति जाँच: यह सत्यापित करना कि कोई कमांड निष्पादित करने से पहले कुछ स्थितियाँ पूरी हुई हैं (जैसे, यह सुनिश्चित करना कि उपयोगकर्ता किसी विशेष स्थिति या संदर्भ में है)।
3. संदर्भात्मक गार्ड: वर्तमान चैट या उपयोगकर्ता स्थिति के आधार पर निर्णय लेना।

### कार्यान्वयन रणनीतियाँ
टेलीग्राम कमांड गार्ड को लागू करना आमतौर पर प्रत्येक गार्ड के लिए तर्क को समाहित करने वाले फ़ंक्शन या विधियाँ लिखने में शामिल होता है। नीचे सामान्य रणनीतियाँ दी गई हैं:

1. उपयोगकर्ता भूमिका जाँच:
   - यह सुनिश्चित करना कि उपयोगकर्ता के पास कमांड निष्पादित करने से पहले आवश्यक भूमिका (जैसे, व्यवस्थापक, मॉडरेटर) है।
      ```kotlin
       override suspend fun condition(user: User?, update: ProcessedUpdate, bot: TelegramBot): Boolean {
        // Check if the user is an admin in the given chat
       }
      ```

2. स्थिति सत्यापन:
   - कमांड निष्पादन की अनुमति देने से पहले उपयोगकर्ता की स्थिति की जाँच करना।
     ```kotlin
     override suspend fun condition(user: User?, update: ProcessedUpdate, bot: TelegramBot): Boolean {
        return bot.userData[user.id, "data"] == requiredState
     }
     ```

3. कस्टम गार्ड:
   - विशिष्ट आवश्यकताओं के आधार पर कस्टम तर्क बनाना।
     ```kotlin
     override suspend fun condition(user: User?, update: ProcessedUpdate, bot: TelegramBot): Boolean {
        // Custom logic to determine if the command should be executed
     }
     ```

### गार्ड को एक्टिविटीज़ के साथ एकीकृत करना
इन गार्ड को अपने बॉट कमांड के साथ एकीकृत करने के लिए, आप एक गार्ड बना सकते हैं जो कमांड हैंडलर को निष्पादित करने से पहले इन स्थितियों की जाँच करता है।

### कार्यान्वयन उदाहरण

```kotlin
// define somewhere your guard class that implements Guard interface
object YourGuard : Guard {
    override suspend fun condition(user: User?, update: ProcessedUpdate, bot: TelegramBot): Boolean {
        // write your condition here
    }
}

// ...

@CommandHandler(["yourCommand"])
@Guard(YourGuard::class) // InputHandler also is supported
fun command(bot: TelegramBot) {
   // command body
}
```

### सर्वोत्तम प्रथाएँ

- मॉड्यूलरता: गार्ड तर्क को मॉड्यूलर और एक्टिविटीज़ से अलग रखें।
- पुन: उपयोग: पुन: उपयोग योग्य गार्ड फ़ंक्शन लिखें जिन्हें विभिन्न कमांड/इनपुट पर आसानी से लागू किया जा सकता है।
- दक्षता: प्रदर्शन ओवरहेड को कम करने के लिए गार्ड चेक को अनुकूलित करें।
- उपयोगकर्ता प्रतिक्रिया: जब कोई कमांड गार्ड द्वारा अवरुद्ध किया जाता है तो उपयोगकर्ताओं को स्पष्ट प्रतिक्रिया प्रदान करें।

### निष्कर्ष

एक्टिविटी गार्ड कमांड/इनपुट निष्पादन को प्रबंधित करने के लिए एक शक्तिशाली उपकरण है।

मजबूत गार्ड तंत्र को लागू करके, विकासकर्ता यह सुनिश्चित कर सकते हैं कि उनके बॉट सुरक्षित और कुशलता से संचालित हों, बेहतर उपयोगकर्ता अनुभव प्रदान करें।

### भी देखें

* [एक्टिविटीज़ और प्रोसेसर्स](Activites-and-Processors.md)
* [अपडेट पार्सिंग](Update-parsing.md)
* [एक्शन्स](Actions.md)
* [एक्टिविटी इनवोकेशन](Activity-invocation.md)