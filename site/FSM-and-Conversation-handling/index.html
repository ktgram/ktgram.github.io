<!doctype html><html class=no-js lang=en><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><meta content="Telegram Bot API wrapper with handy Kotlin DSL." name=description><link href=https://tgbot.vendeli.eu/FSM-and-Conversation-handling/ rel=canonical><link href=../F.A.Q/ rel=prev><link href=../Functional-DSL/ rel=next><link href=../assets/img/lib-logo.png rel=icon><meta content="mkdocs-1.6.1, mkdocs-material-9.5.49" name=generator><title>Fsm And Conversation Handling - Telegram bot</title><link href=../assets/stylesheets/main.6f8fc17f.min.css rel=stylesheet><link href=../assets/stylesheets/palette.06af60db.min.css rel=stylesheet><link crossorigin href=https://fonts.gstatic.com rel=preconnect><link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback" rel=stylesheet><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link href=../assets/stylesheets/extra.css rel=stylesheet><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>var __md_analytics=(()=>{let f=0,c=`config`,e=`event`,g=1,d=`G-NV2HD45F9G`;function a(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],a(`js`,new Date),a(c,d),document.addEventListener(`DOMContentLoaded`,(()=>{document.forms.search&&document.forms.search.query.addEventListener(`blur`,(function(){this.value&&a(e,`search`,{search_term:this.value})}));document$.subscribe((()=>{var b=document.forms.feedback;if(void f!==b)for(var c of b.querySelectorAll(`[type=submit]`))c.addEventListener(`click`,(function(c){c.preventDefault();var d=document.location.pathname,h=this.getAttribute(`data-md-value`);a(e,`feedback`,{page:d,data:h}),b.firstElementChild.disabled=!f;var i=b.querySelector(`.md-feedback__note [data-md-value='`+ h+ `']`);i&&(i.hidden=!g)})),b.hidden=!g})),location$.subscribe((b=>{a(c,d,{page_path:b.pathname})}))}));var b=document.createElement(`script`);b.async=!f,b.src=`https://www.googletagmanager.com/gtag/js?id=G-NV2HD45F9G`,document.getElementById(`__analytics`).insertAdjacentElement(`afterEnd`,b)})</script><script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script><body data-md-color-accent=indigo data-md-color-primary=indigo data-md-color-scheme=slate dir=ltr><input autocomplete=off class=md-toggle data-md-toggle=drawer id=__drawer type=checkbox><input autocomplete=off class=md-toggle data-md-toggle=search id=__search type=checkbox><label class=md-overlay for=__drawer></label><div data-md-component=skip><a class=md-skip href=#in-theory> Skip to content </a></div><div data-md-component=announce></div><header class=md-header data-md-component=header><nav class="md-header__inner md-grid" aria-label=Header><a aria-label="Telegram bot" class="md-header__button md-logo" title="Telegram bot" data-md-component=logo href=..> <img alt=logo src=../assets/img/lib-logo.png> </a><label class="md-header__button md-icon" for=__drawer><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg></label><div class=md-header__title data-md-component=header-title><div class=md-header__ellipsis><div class=md-header__topic><span class=md-ellipsis> Telegram bot </span></div><div class=md-header__topic data-md-component=header-topic><span class=md-ellipsis> Fsm And Conversation Handling </span></div></div></div><form class=md-header__option data-md-component=palette><input aria-label="Switch to light mode" data-md-color-media="(prefers-color-scheme: dark)" class=md-option data-md-color-accent=indigo data-md-color-primary=indigo data-md-color-scheme=slate id=__palette_0 name=__palette type=radio><label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg></label><input aria-label="Switch to dark mode" data-md-color-media="(prefers-color-scheme: light)" class=md-option data-md-color-accent=indigo data-md-color-primary=indigo data-md-color-scheme=default id=__palette_1 name=__palette type=radio><label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_0 hidden><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg></label></form><script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script><div class=md-header__option><div class=md-select><button aria-label="Select language" class="md-header__button md-icon"><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg></button><div class=md-select__inner><ul class=md-select__list><li class=md-select__item><a class=md-select__link href=./ hreflang=en> English </a><li class=md-select__item><a class=md-select__link href=../zh/FSM-and-Conversation-handling/ hreflang=zh> 中文 </a></ul></div></div></div><label class="md-header__button md-icon" for=__search><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg></label><div class=md-search data-md-component=search role=dialog><label class=md-search__overlay for=__search></label><div class=md-search__inner role=search><form class=md-search__form name=search><input aria-label=Search autocapitalize=off autocomplete=off autocorrect=off class=md-search__input data-md-component=search-query name=query placeholder=Search required spellcheck=false type=text><label class="md-search__icon md-icon" for=__search><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg></label><nav aria-label=Search class=md-search__options><a class="md-search__icon md-icon" aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share href=javascript:void(0) tabindex=-1 title=Share> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a><button class="md-search__icon md-icon" aria-label=Clear tabindex=-1 title=Clear type=reset><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg></button></nav></form><div class=md-search__output><div class=md-search__scrollwrap data-md-scrollfix tabindex=0><div class=md-search-result data-md-component=search-result><div class=md-search-result__meta>Initializing search</div><ol class=md-search-result__list role=presentation></ol></div></div></div></div></div><div class=md-header__source><a title="Go to repository" class=md-source data-md-component=source href=https://github.com/vendelieu/telegram-bot> <div class="md-source__icon md-icon"><svg viewbox="0 0 496 512" xmlns=http://www.w3.org/2000/svg><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg></div> <div class=md-source__repository>vendelieu/telegram-bot</div> </a></div></nav></header><div class=md-container data-md-component=container><nav aria-label=Tabs class=md-tabs data-md-component=tabs><div class=md-grid><ul class=md-tabs__list><li class=md-tabs__item><a class=md-tabs__link href=..> Home </a><li class="md-tabs__item md-tabs__item--active"><a class=md-tabs__link href=../Actions/> Documentation </a><li class=md-tabs__item><a class=md-tabs__link href=https://vendelieu.github.io/telegram-bot/> API Reference </a></ul></div></nav><main class=md-main data-md-component=main><div class="md-main__inner md-grid"><div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation><div class=md-sidebar__scrollwrap><div class=md-sidebar__inner><nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0><label class=md-nav__title for=__drawer><a aria-label="Telegram bot" class="md-nav__button md-logo" title="Telegram bot" data-md-component=logo href=..> <img alt=logo src=../assets/img/lib-logo.png> </a> Telegram bot</label><div class=md-nav__source><a title="Go to repository" class=md-source data-md-component=source href=https://github.com/vendelieu/telegram-bot> <div class="md-source__icon md-icon"><svg viewbox="0 0 496 512" xmlns=http://www.w3.org/2000/svg><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg></div> <div class=md-source__repository>vendelieu/telegram-bot</div> </a></div><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a class=md-nav__link href=..> <span class=md-ellipsis> Home </span> </a><li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"><input class="md-nav__toggle md-toggle" checked id=__nav_2 type=checkbox> <label class=md-nav__link for=__nav_2 id=__nav_2_label><span class=md-ellipsis> Documentation </span> <span class="md-nav__icon md-icon"></span></label> <nav aria-expanded=true aria-labelledby=__nav_2_label class=md-nav data-md-level=1><label class=md-nav__title for=__nav_2><span class="md-nav__icon md-icon"></span> Documentation</label><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a class=md-nav__link href=../Actions/> <span class=md-ellipsis> Actions </span> </a><li class=md-nav__item><a class=md-nav__link href=../Activites-and-Processors/> <span class=md-ellipsis> Activites And Processors </span> </a><li class=md-nav__item><a class=md-nav__link href=../Activity-invocation/> <span class=md-ellipsis> Activity Invocation </span> </a><li class=md-nav__item><a class=md-nav__link href=../Bot-Context/> <span class=md-ellipsis> Bot Context </span> </a><li class=md-nav__item><a class=md-nav__link href=../Bot-configuration/> <span class=md-ellipsis> Bot Configuration </span> </a><li class=md-nav__item><a class=md-nav__link href=../F.A.Q/> <span class=md-ellipsis> F.A.Q </span> </a><li class="md-nav__item md-nav__item--active"><input class="md-nav__toggle md-toggle" id=__toc type=checkbox> <label class="md-nav__link md-nav__link--active" for=__toc><span class=md-ellipsis> Fsm And Conversation Handling </span> <span class="md-nav__icon md-icon"></span></label> <a class="md-nav__link md-nav__link--active" href=./> <span class=md-ellipsis> Fsm And Conversation Handling </span> </a> <nav aria-label="On this page" class="md-nav md-nav--secondary"><label class=md-nav__title for=__toc><span class="md-nav__icon md-icon"></span> On this page</label><ul class=md-nav__list data-md-component=toc data-md-scrollfix><li class=md-nav__item><a class=md-nav__link href=#in-theory> <span class=md-ellipsis> In theory </span> </a><li class=md-nav__item><a class=md-nav__link href=#in-practice> <span class=md-ellipsis> In practice </span> </a><li class=md-nav__item><a class=md-nav__link href=#links-details> <span class=md-ellipsis> Links details </span> </a><li class=md-nav__item><a class=md-nav__link href=#stateless-links> <span class=md-ellipsis> Stateless Links </span> </a><li class=md-nav__item><a class=md-nav__link href=#stateful-links> <span class=md-ellipsis> Stateful Links </span> </a> <nav aria-label="Stateful Links" class=md-nav><ul class=md-nav__list><li class=md-nav__item><a class=md-nav__link href=#key-features> <span class=md-ellipsis> Key Features </span> </a> <nav aria-label="Key Features" class=md-nav><ul class=md-nav__list><li class=md-nav__item><a class=md-nav__link href=#automatic-state-storage> <span class=md-ellipsis> Automatic State Storage </span> </a><li class=md-nav__item><a class=md-nav__link href=#customizable-keys> <span class=md-ellipsis> Customizable Keys </span> </a><li class=md-nav__item><a class=md-nav__link href=#data-typing-and-key-utilization> <span class=md-ellipsis> Data Typing and Key Utilization </span> </a><li class=md-nav__item><a class=md-nav__link href=#unified-access-to-states> <span class=md-ellipsis> Unified Access to States </span> </a></ul></nav><li class=md-nav__item><a class=md-nav__link href=#usage-examples> <span class=md-ellipsis> Usage Examples </span> </a> <nav aria-label="Usage Examples" class=md-nav><ul class=md-nav__list><li class=md-nav__item><a class=md-nav__link href=#retrieving-all-states> <span class=md-ellipsis> Retrieving All States </span> </a><li class=md-nav__item><a class=md-nav__link href=#direct-state-access> <span class=md-ellipsis> Direct State Access </span> </a></ul></nav><li class=md-nav__item><a class=md-nav__link href=#benefits> <span class=md-ellipsis> Benefits </span> </a></ul></nav><li class=md-nav__item><a class=md-nav__link href=#summarizing> <span class=md-ellipsis> Summarizing </span> </a></ul></nav><li class=md-nav__item><a class=md-nav__link href=../Functional-DSL/> <span class=md-ellipsis> Functional Dsl </span> </a><li class=md-nav__item><a class=md-nav__link href=../Guards/> <span class=md-ellipsis> Guards </span> </a><li class=md-nav__item><a class=md-nav__link href=../Handlers/> <span class=md-ellipsis> Handlers </span> </a><li class=md-nav__item><a class=md-nav__link href=../Update-parsing/> <span class=md-ellipsis> Update Parsing </span> </a><li class=md-nav__item><a class=md-nav__link href=../Useful-utilities-and-tips/> <span class=md-ellipsis> Useful Utilities And Tips </span> </a><li class=md-nav__item><a class=md-nav__link href=../Web-starters-%28Spring-and-Ktor%29/> <span class=md-ellipsis> Web Starters (Spring And Ktor) </span> </a></ul></nav><li class=md-nav__item><a class=md-nav__link href=https://vendelieu.github.io/telegram-bot/> <span class=md-ellipsis> API Reference </span> </a></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc><div class=md-sidebar__scrollwrap><div class=md-sidebar__inner><nav aria-label="On this page" class="md-nav md-nav--secondary"><label class=md-nav__title for=__toc><span class="md-nav__icon md-icon"></span> On this page</label><ul class=md-nav__list data-md-component=toc data-md-scrollfix><li class=md-nav__item><a class=md-nav__link href=#in-theory> <span class=md-ellipsis> In theory </span> </a><li class=md-nav__item><a class=md-nav__link href=#in-practice> <span class=md-ellipsis> In practice </span> </a><li class=md-nav__item><a class=md-nav__link href=#links-details> <span class=md-ellipsis> Links details </span> </a><li class=md-nav__item><a class=md-nav__link href=#stateless-links> <span class=md-ellipsis> Stateless Links </span> </a><li class=md-nav__item><a class=md-nav__link href=#stateful-links> <span class=md-ellipsis> Stateful Links </span> </a> <nav aria-label="Stateful Links" class=md-nav><ul class=md-nav__list><li class=md-nav__item><a class=md-nav__link href=#key-features> <span class=md-ellipsis> Key Features </span> </a> <nav aria-label="Key Features" class=md-nav><ul class=md-nav__list><li class=md-nav__item><a class=md-nav__link href=#automatic-state-storage> <span class=md-ellipsis> Automatic State Storage </span> </a><li class=md-nav__item><a class=md-nav__link href=#customizable-keys> <span class=md-ellipsis> Customizable Keys </span> </a><li class=md-nav__item><a class=md-nav__link href=#data-typing-and-key-utilization> <span class=md-ellipsis> Data Typing and Key Utilization </span> </a><li class=md-nav__item><a class=md-nav__link href=#unified-access-to-states> <span class=md-ellipsis> Unified Access to States </span> </a></ul></nav><li class=md-nav__item><a class=md-nav__link href=#usage-examples> <span class=md-ellipsis> Usage Examples </span> </a> <nav aria-label="Usage Examples" class=md-nav><ul class=md-nav__list><li class=md-nav__item><a class=md-nav__link href=#retrieving-all-states> <span class=md-ellipsis> Retrieving All States </span> </a><li class=md-nav__item><a class=md-nav__link href=#direct-state-access> <span class=md-ellipsis> Direct State Access </span> </a></ul></nav><li class=md-nav__item><a class=md-nav__link href=#benefits> <span class=md-ellipsis> Benefits </span> </a></ul></nav><li class=md-nav__item><a class=md-nav__link href=#summarizing> <span class=md-ellipsis> Summarizing </span> </a></ul></nav></div></div></div><div class=md-content data-md-component=content><article class="md-content__inner md-typeset"><h1>Fsm And Conversation Handling</h1><p>The library also supports the FSM mechanism, which is a mechanism for progressive processing of user input with incorrect input handling.<h3 id=in-theory>In theory<a title="Permanent link" class=headerlink href=#in-theory>¶</a></h3><p>Let's imagine a situation where you need to collect a user survey, you can ask for all the data of a person at one step, but with incorrect input of one of the parameters, it will be difficult both for the user and for us, and each step may have a difference depending on certain input data.<p>Now let's imagine step-by-step input of data, where the bot enters dialogue mode with the user.<p align=center><img alt="Handling process diagram" src=https://github.com/vendelieu/telegram-bot/assets/3987067/2e84fa00-e59c-4352-8665-83be3b971e7b><p>Green arrows indicate the process of transitioning through steps without errors, blue arrows mean saving the current state and waiting for re-input (for example, if the user indicated that he is -100 years old, it should ask for age again), and red ones show exit from the entire process due to any command or any other meaning cancellation.<h3 id=in-practice>In practice<a title="Permanent link" class=headerlink href=#in-practice>¶</a></h3><p>Such a mechanism can be implemented in the library through a simple class that implements a certain interface and marked with a specific annotation <code>@InputChain</code>.<div class=highlight><pre><span></span><code><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nd>@InputChain</span>
<a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a><span class=kd>object</span><span class=w> </span><span class=nc>ConversationChain</span><span class=w> </span><span class=p>{</span>
<a href=#__codelineno-0-3 id=__codelineno-0-3 name=__codelineno-0-3></a><span class=w>    </span><span class=kd>object</span><span class=w> </span><span class=nc>Name</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>BaseStatefulLink</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a href=#__codelineno-0-4 id=__codelineno-0-4 name=__codelineno-0-4></a><span class=w>        </span><span class=kd>override</span><span class=w> </span><span class=kd>val</span><span class=w> </span><span class=nv>breakCondition</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>BreakCondition</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=n>_</span><span class=p>,</span><span class=w> </span><span class=n>update</span><span class=p>,</span><span class=w> </span><span class=n>_</span><span class=w> </span><span class=o>-></span><span class=w> </span><span class=n>update</span><span class=p>.</span><span class=na>text</span><span class=p>.</span><span class=na>isBlank</span><span class=p>()</span><span class=w> </span><span class=p>}</span>
<a href=#__codelineno-0-5 id=__codelineno-0-5 name=__codelineno-0-5></a><span class=w>        </span><span class=kd>override</span><span class=w> </span><span class=kd>suspend</span><span class=w> </span><span class=kd>fun</span><span class=w> </span><span class=nf>breakAction</span><span class=p>(</span><span class=n>user</span><span class=p>:</span><span class=w> </span><span class=n>User</span><span class=p>,</span><span class=w> </span><span class=n>update</span><span class=p>:</span><span class=w> </span><span class=n>ProcessedUpdate</span><span class=p>,</span><span class=w> </span><span class=n>bot</span><span class=p>:</span><span class=w> </span><span class=n>TelegramBot</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a href=#__codelineno-0-6 id=__codelineno-0-6 name=__codelineno-0-6></a><span class=w>            </span><span class=n>message</span><span class=w> </span><span class=p>{</span>
<a href=#__codelineno-0-7 id=__codelineno-0-7 name=__codelineno-0-7></a><span class=w>                </span><span class=s>"Please say your name, because that's what well-mannered people do :)"</span>
<a href=#__codelineno-0-8 id=__codelineno-0-8 name=__codelineno-0-8></a><span class=w>            </span><span class=p>}.</span><span class=na>send</span><span class=p>(</span><span class=n>user</span><span class=p>,</span><span class=w> </span><span class=n>bot</span><span class=p>)</span>
<a href=#__codelineno-0-9 id=__codelineno-0-9 name=__codelineno-0-9></a><span class=w>        </span><span class=p>}</span>
<a href=#__codelineno-0-10 id=__codelineno-0-10 name=__codelineno-0-10></a>
<a href=#__codelineno-0-11 id=__codelineno-0-11 name=__codelineno-0-11></a><span class=w>        </span><span class=kd>override</span><span class=w> </span><span class=kd>suspend</span><span class=w> </span><span class=kd>fun</span><span class=w> </span><span class=nf>action</span><span class=p>(</span><span class=n>user</span><span class=p>:</span><span class=w> </span><span class=n>User</span><span class=p>,</span><span class=w> </span><span class=n>update</span><span class=p>:</span><span class=w> </span><span class=n>ProcessedUpdate</span><span class=p>,</span><span class=w> </span><span class=n>bot</span><span class=p>:</span><span class=w> </span><span class=n>TelegramBot</span><span class=p>):</span><span class=w> </span><span class=kt>String</span><span class=w> </span><span class=p>{</span>
<a href=#__codelineno-0-12 id=__codelineno-0-12 name=__codelineno-0-12></a><span class=w>            </span><span class=n>message</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s>"Oh, </span><span class=si>${</span><span class=n>update</span><span class=p>.</span><span class=na>text</span><span class=si>}</span><span class=s>, hey there"</span><span class=w> </span><span class=p>}.</span><span class=na>send</span><span class=p>(</span><span class=n>user</span><span class=p>,</span><span class=w> </span><span class=n>bot</span><span class=p>)</span>
<a href=#__codelineno-0-13 id=__codelineno-0-13 name=__codelineno-0-13></a><span class=w>            </span><span class=n>message</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s>"How old are you?"</span><span class=w> </span><span class=p>}.</span><span class=na>send</span><span class=p>(</span><span class=n>user</span><span class=p>,</span><span class=w> </span><span class=n>bot</span><span class=p>)</span>
<a href=#__codelineno-0-14 id=__codelineno-0-14 name=__codelineno-0-14></a>
<a href=#__codelineno-0-15 id=__codelineno-0-15 name=__codelineno-0-15></a><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=n>update</span><span class=p>.</span><span class=na>text</span>
<a href=#__codelineno-0-16 id=__codelineno-0-16 name=__codelineno-0-16></a><span class=w>        </span><span class=p>}</span>
<a href=#__codelineno-0-17 id=__codelineno-0-17 name=__codelineno-0-17></a><span class=w>    </span><span class=p>}</span>
<a href=#__codelineno-0-18 id=__codelineno-0-18 name=__codelineno-0-18></a>
<a href=#__codelineno-0-19 id=__codelineno-0-19 name=__codelineno-0-19></a><span class=w>    </span><span class=kd>object</span><span class=w> </span><span class=nc>Age</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>BaseStatefulLink</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a href=#__codelineno-0-20 id=__codelineno-0-20 name=__codelineno-0-20></a><span class=w>        </span><span class=kd>override</span><span class=w> </span><span class=kd>val</span><span class=w> </span><span class=nv>breakCondition</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>BreakCondition</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=n>_</span><span class=p>,</span><span class=w> </span><span class=n>update</span><span class=p>,</span><span class=w> </span><span class=n>_</span><span class=w> </span><span class=o>-></span><span class=w> </span><span class=n>update</span><span class=p>.</span><span class=na>text</span><span class=p>.</span><span class=na>toIntOrNull</span><span class=p>()</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=w> </span><span class=p>}</span>
<a href=#__codelineno-0-21 id=__codelineno-0-21 name=__codelineno-0-21></a><span class=w>        </span><span class=kd>override</span><span class=w> </span><span class=kd>suspend</span><span class=w> </span><span class=kd>fun</span><span class=w> </span><span class=nf>breakAction</span><span class=p>(</span><span class=n>user</span><span class=p>:</span><span class=w> </span><span class=n>User</span><span class=p>,</span><span class=w> </span><span class=n>update</span><span class=p>:</span><span class=w> </span><span class=n>ProcessedUpdate</span><span class=p>,</span><span class=w> </span><span class=n>bot</span><span class=p>:</span><span class=w> </span><span class=n>TelegramBot</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a href=#__codelineno-0-22 id=__codelineno-0-22 name=__codelineno-0-22></a><span class=w>            </span><span class=n>message</span><span class=w> </span><span class=p>{</span>
<a href=#__codelineno-0-23 id=__codelineno-0-23 name=__codelineno-0-23></a><span class=w>                </span><span class=s>"Perhaps it's not nice to ask your age, but maybe you can tell me anyway."</span>
<a href=#__codelineno-0-24 id=__codelineno-0-24 name=__codelineno-0-24></a><span class=w>            </span><span class=p>}.</span><span class=na>send</span><span class=p>(</span><span class=n>user</span><span class=p>,</span><span class=w> </span><span class=n>bot</span><span class=p>)</span>
<a href=#__codelineno-0-25 id=__codelineno-0-25 name=__codelineno-0-25></a><span class=w>        </span><span class=p>}</span>
<a href=#__codelineno-0-26 id=__codelineno-0-26 name=__codelineno-0-26></a>
<a href=#__codelineno-0-27 id=__codelineno-0-27 name=__codelineno-0-27></a><span class=w>        </span><span class=kd>override</span><span class=w> </span><span class=kd>suspend</span><span class=w> </span><span class=kd>fun</span><span class=w> </span><span class=nf>action</span><span class=p>(</span><span class=n>user</span><span class=p>:</span><span class=w> </span><span class=n>User</span><span class=p>,</span><span class=w> </span><span class=n>update</span><span class=p>:</span><span class=w> </span><span class=n>ProcessedUpdate</span><span class=p>,</span><span class=w> </span><span class=n>bot</span><span class=p>:</span><span class=w> </span><span class=n>TelegramBot</span><span class=p>):</span><span class=w> </span><span class=kt>String</span><span class=w> </span><span class=p>{</span>
<a href=#__codelineno-0-28 id=__codelineno-0-28 name=__codelineno-0-28></a><span class=w>            </span><span class=n>message</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s>"Pleased to meet you!"</span><span class=w> </span><span class=p>}.</span><span class=na>send</span><span class=p>(</span><span class=n>user</span><span class=p>,</span><span class=w> </span><span class=n>bot</span><span class=p>)</span>
<a href=#__codelineno-0-29 id=__codelineno-0-29 name=__codelineno-0-29></a>
<a href=#__codelineno-0-30 id=__codelineno-0-30 name=__codelineno-0-30></a><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=n>update</span><span class=p>.</span><span class=na>text</span>
<a href=#__codelineno-0-31 id=__codelineno-0-31 name=__codelineno-0-31></a><span class=w>        </span><span class=p>}</span>
<a href=#__codelineno-0-32 id=__codelineno-0-32 name=__codelineno-0-32></a><span class=w>    </span><span class=p>}</span>
<a href=#__codelineno-0-33 id=__codelineno-0-33 name=__codelineno-0-33></a>
<a href=#__codelineno-0-34 id=__codelineno-0-34 name=__codelineno-0-34></a><span class=w>    </span><span class=kd>object</span><span class=w> </span><span class=nc>Final</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>ChainLink</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a href=#__codelineno-0-35 id=__codelineno-0-35 name=__codelineno-0-35></a><span class=w>        </span><span class=kd>override</span><span class=w> </span><span class=kd>suspend</span><span class=w> </span><span class=kd>fun</span><span class=w> </span><span class=nf>action</span><span class=p>(</span><span class=n>user</span><span class=p>:</span><span class=w> </span><span class=n>User</span><span class=p>,</span><span class=w> </span><span class=n>update</span><span class=p>:</span><span class=w> </span><span class=n>ProcessedUpdate</span><span class=p>,</span><span class=w> </span><span class=n>bot</span><span class=p>:</span><span class=w> </span><span class=n>TelegramBot</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a href=#__codelineno-0-36 id=__codelineno-0-36 name=__codelineno-0-36></a><span class=w>            </span><span class=kd>val</span><span class=w> </span><span class=nv>state</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>user</span><span class=p>.</span><span class=na>getAllState</span><span class=p>(</span><span class=n>ConversationChain</span><span class=p>)</span>
<a href=#__codelineno-0-37 id=__codelineno-0-37 name=__codelineno-0-37></a>
<a href=#__codelineno-0-38 id=__codelineno-0-38 name=__codelineno-0-38></a><span class=w>            </span><span class=n>message</span><span class=w> </span><span class=p>{</span>
<a href=#__codelineno-0-39 id=__codelineno-0-39 name=__codelineno-0-39></a><span class=w>                </span><span class=s>"I'm not good at remembering, but I remembered you! "</span><span class=w> </span><span class=o>+</span>
<a href=#__codelineno-0-40 id=__codelineno-0-40 name=__codelineno-0-40></a><span class=w>                        </span><span class=s>"You're </span><span class=si>${</span><span class=n>state</span><span class=p>.</span><span class=na>Name</span><span class=si>}</span><span class=s> and you're </span><span class=si>${</span><span class=n>state</span><span class=p>.</span><span class=na>Age</span><span class=si>}</span><span class=s> years old."</span>
<a href=#__codelineno-0-41 id=__codelineno-0-41 name=__codelineno-0-41></a><span class=w>            </span><span class=p>}.</span><span class=na>send</span><span class=p>(</span><span class=n>user</span><span class=p>,</span><span class=w> </span><span class=n>bot</span><span class=p>)</span>
<a href=#__codelineno-0-42 id=__codelineno-0-42 name=__codelineno-0-42></a><span class=w>        </span><span class=p>}</span>
<a href=#__codelineno-0-43 id=__codelineno-0-43 name=__codelineno-0-43></a><span class=w>    </span><span class=p>}</span>
<a href=#__codelineno-0-44 id=__codelineno-0-44 name=__codelineno-0-44></a><span class=p>}</span>
</code></pre></div><p>And after we described the mechanism to start the processing, we just need to call the method and specify the initial step, then the library itself will follow the sequence.<div class=highlight><pre><span></span><code><a href=#__codelineno-1-1 id=__codelineno-1-1 name=__codelineno-1-1></a><span class=n>bot</span><span class=p>.</span><span class=na>inputListener</span><span class=p>.</span><span class=na>setChain</span><span class=p>(</span><span class=n>user</span><span class=p>,</span><span class=w> </span><span class=n>Conversation</span><span class=p>.</span><span class=na>Name</span><span class=p>)</span>
</code></pre></div><h3 id=links-details>Links details<a title="Permanent link" class=headerlink href=#links-details>¶</a></h3><p>All links have the same foundation and implementing <a href=https://vendelieu.github.io/telegram-bot/telegram-bot/eu.vendeli.tgbot.types.internal.chain/-link/index.html><code>Link&LTT></code></a> interface, which have such properties:<p>Key Properties:<ul><li>afterAction: An optional action to execute after the main action.<li>beforeAction: An optional action to execute before the main action.<li>breakCondition: A condition that, if met, will trigger a break in the chain.<li>chainingStrategy: Defines how the next link is determined.<li>retryAfterBreak: Indicates whether to retry the action after a break condition is met.</ul><p>Key Functions:<ul><li>action: This is an abstract function that must be implemented to define the primary behavior of the link.<li>breakAction: An optional function that can be overridden to define behavior when a break condition is met.</ul><p>There are two types of links they are differentiated by state, stateless and stateful:<h3 id=stateless-links>Stateless Links<a title="Permanent link" class=headerlink href=#stateless-links>¶</a></h3><p>Stateless links are represented by the abstract class <a href=https://vendelieu.github.io/telegram-bot/telegram-bot/eu.vendeli.tgbot.types.internal/-chain-link/index.html><code>ChainLink</code></a>. This class serves as the foundation for creating links that do not maintain any state information between user interactions.<h3 id=stateful-links>Stateful Links<a title="Permanent link" class=headerlink href=#stateful-links>¶</a></h3><p>The <code>InputChain</code> mechanism, particularly when employing <code>StatefulLink</code> and its various implementations, offers a sophisticated approach to managing conversational states within applications, such as chatbots. This system automatically stores the result of the <code>action</code> function associated with each state, linking it directly to the user involved in the interaction (or other selected key).<h4 id=key-features>Key Features<a title="Permanent link" class=headerlink href=#key-features>¶</a></h4><h5 id=automatic-state-storage>Automatic State Storage<a title="Permanent link" class=headerlink href=#automatic-state-storage>¶</a></h5><ul><li>By default, the outcome of the <code>action</code> function executed within a <code>StatefulLink</code> is automatically stored. This storage is linked to the user, ensuring personalized interactions based on past exchanges.</ul><h5 id=customizable-keys>Customizable Keys<a title="Permanent link" class=headerlink href=#customizable-keys>¶</a></h5><ul><li>Developers have the flexibility to override the base implementation to specify custom keys for state association. This could range from identifiers unique to a chat session to any other relevant attribute that suits the application's requirements.</ul><h5 id=data-typing-and-key-utilization>Data Typing and Key Utilization<a title="Permanent link" class=headerlink href=#data-typing-and-key-utilization>¶</a></h5><ul><li>The foundational implementation, <code>BaseStatefulLink</code>, categorizes data as <code>String</code> types, utilizing <code>User.id</code> as the primary key for state association. This approach streamlines data management and retrieval processes.</ul><h5 id=unified-access-to-states>Unified Access to States<a title="Permanent link" class=headerlink href=#unified-access-to-states>¶</a></h5><ul><li>Should all <code>Link</code> objects within the InputChain utilize identical keys, the system generates functions that facilitate unified access to all states. This enhancement significantly simplifies the process of retrieving and managing state information across different parts of the application.</ul><h4 id=usage-examples>Usage Examples<a title="Permanent link" class=headerlink href=#usage-examples>¶</a></h4><h5 id=retrieving-all-states>Retrieving All States<a title="Permanent link" class=headerlink href=#retrieving-all-states>¶</a></h5><p>To access all states associated with a particular chain for a given user, the following syntax can be employed:<div class=highlight><pre><span></span><code><a href=#__codelineno-2-1 id=__codelineno-2-1 name=__codelineno-2-1></a><span class=n>user</span><span class=p>.</span><span class=na>getAllState</span><span class=p>(</span><span class=n>MyChain</span><span class=p>).</span><span class=na>LinkName</span>
</code></pre></div> This command retrieves the data linked to the specified <code>LinkName</code> within <code>MyChain</code>, providing a comprehensive overview of the user's interaction history. <h5 id=direct-state-access>Direct State Access<a title="Permanent link" class=headerlink href=#direct-state-access>¶</a></h5><p>Alternatively, for more granular control, states can be accessed directly through the links themselves:<div class=highlight><pre><span></span><code><a href=#__codelineno-3-1 id=__codelineno-3-1 name=__codelineno-3-1></a><span class=n>Chain</span><span class=p>.</span><span class=na>LinkName</span><span class=p>.</span><span class=na>state</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>key</span><span class=p>)</span>
</code></pre></div> Or, if querying the state within the current chain, <code>Chain.LinkName</code> may be omitted, simplifying the call to: <div class=highlight><pre><span></span><code><a href=#__codelineno-4-1 id=__codelineno-4-1 name=__codelineno-4-1></a><span class=n>state</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>key</span><span class=p>)</span>
</code></pre></div><h4 id=benefits>Benefits<a title="Permanent link" class=headerlink href=#benefits>¶</a></h4><p>This methodology enables stricter data management protocols, offering rapid and convenient access to stored states. It enhances the efficiency of state retrieval and manipulation, contributing to a more seamless user experience.<p>Default <code>BaseStatefulLink</code> implementation uses <code>ConcurrentHashMap</code>, but for serious projects it is recommended to use other solutions :)<h3 id=summarizing>Summarizing<a title="Permanent link" class=headerlink href=#summarizing>¶</a></h3><p>It is possible to use the proposed tools with different variations to create quite flexible interaction, if you have any questions contact us in chat, we will be glad to help :)</article></div><script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script></div><button class="md-top md-icon" data-md-component=top hidden type=button><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top</button></main><footer class=md-footer><nav class="md-footer__inner md-grid" aria-label=Footer><a aria-label="Previous: F.A.Q" class="md-footer__link md-footer__link--prev" href=../F.A.Q/> <div class="md-footer__button md-icon"><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg></div> <div class=md-footer__title><span class=md-footer__direction> Previous </span><div class=md-ellipsis>F.A.Q</div></div> </a><a aria-label="Next: Functional Dsl" class="md-footer__link md-footer__link--next" href=../Functional-DSL/> <div class=md-footer__title><span class=md-footer__direction> Next </span><div class=md-ellipsis>Functional Dsl</div></div> <div class="md-footer__button md-icon"><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg></div> </a></nav><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class=md-copyright>Made with <a href=https://squidfunk.github.io/mkdocs-material/ rel=noopener target=_blank> Material for MkDocs </a></div></div></div></footer></div><div class=md-dialog data-md-component=dialog><div class="md-dialog__inner md-typeset"></div></div><div class=md-consent data-md-component=consent hidden id=__consent><div class=md-consent__overlay></div><aside class=md-consent__inner><form class="md-consent__form md-grid md-typeset" name=consent><h4>Cookie consent</h4><p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p><input class=md-toggle id=__settings type=checkbox><div class=md-consent__settings><ul class=task-list><li class=task-list-item><label class=task-list-control><input checked name=analytics type=checkbox> <span class=task-list-indicator></span> Google Analytics</label><li class=task-list-item><label class=task-list-control><input checked name=github type=checkbox> <span class=task-list-indicator></span> GitHub</label></ul></div><div class=md-consent__controls><button class="md-button md-button--primary">Accept</button><label class=md-button for=__settings>Manage settings</label></div></form></aside></div><script>var consent=__md_get(`__consent`);if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else `file:`!==location.protocol&&setTimeout((()=>{document.querySelector(`[data-md-component=consent]`).hidden=!1}),250);var form=document.forms.consent;for(var action of [`submit`,a])form.addEventListener(action,(b=>{if(b.preventDefault(),a===b.type)for(var c of document.forms.consent.elements)c.name&&(c.checked=!1);__md_set(`__consent`,Object.fromEntries(Array.from(new FormData(form).keys()).map((a=>[a,!0])))),location.hash=``,location.reload()}))</script><script id=__config type=application/json>{"base": "..", "features": ["content.code.annotate", "content.code.copy", "navigation.footer", "navigation.tabs", "navigation.top", "navigation.tracking", "search.share", "toc.follow"], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script><script src=../assets/javascripts/bundle.88dd0f4e.min.js></script>