<!doctype html><html class=no-js lang=fa><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><meta content="Telegram Bot API wrapper with handy Kotlin DSL." name=description><link href=https://tgbot.vendeli.eu/fa/ rel=canonical><link href=Actions/ rel=next><link href=/ hreflang=en rel=alternate><link href=/zh/ hreflang=zh rel=alternate><link href=/hi/ hreflang=hi rel=alternate><link href=/ru/ hreflang=ru rel=alternate><link href=/ko/ hreflang=ko rel=alternate><link href=/fa/ hreflang=fa rel=alternate><link href=/pt/ hreflang=pt rel=alternate><link href=/id/ hreflang=id rel=alternate><link href=/vi/ hreflang=vi rel=alternate><link href=../assets/img/lib-logo.png rel=icon><meta content="mkdocs-1.6.1, mkdocs-material-9.7.1" name=generator><title>خانه - Telegram bot</title><link href=../assets/stylesheets/main.484c7ddc.min.css rel=stylesheet><link href=../assets/stylesheets/palette.ab4e12ef.min.css rel=stylesheet><link crossorigin href=https://fonts.gstatic.com rel=preconnect><link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback" rel=stylesheet><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link href=../assets/stylesheets/extra.css rel=stylesheet><script>__md_scope=new URL(`..`,location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+`.`+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+`.`+e,JSON.stringify(_))}catch{}};</script><body data-md-color-accent=indigo data-md-color-primary=indigo data-md-color-scheme=slate dir=rtl><input autocomplete=off class=md-toggle data-md-toggle=drawer id=__drawer type=checkbox><input autocomplete=off class=md-toggle data-md-toggle=search id=__search type=checkbox><label class=md-overlay for=__drawer></label><div data-md-component=skip><a class=md-skip href=#_1> پرش به محتویات </a></div><div data-md-component=announce></div><header class=md-header data-md-component=header><nav class="md-header__inner md-grid" aria-label=سرتیتر><a aria-label="Telegram bot" class="md-header__button md-logo" title="Telegram bot" data-md-component=logo href=./> <img alt=logo src=../assets/img/lib-logo.png> </a><label class="md-header__button md-icon" for=__drawer><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg></label><div class=md-header__title data-md-component=header-title><div class=md-header__ellipsis><div class=md-header__topic><span class=md-ellipsis> Telegram bot </span></div><div class=md-header__topic data-md-component=header-topic><span class=md-ellipsis> خانه </span></div></div></div><form class=md-header__option data-md-component=palette><input aria-label="Switch to light mode" data-md-color-media="(prefers-color-scheme: dark)" class=md-option data-md-color-accent=indigo data-md-color-primary=indigo data-md-color-scheme=slate id=__palette_0 name=__palette type=radio><label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg></label><input aria-label="Switch to dark mode" data-md-color-media="(prefers-color-scheme: light)" class=md-option data-md-color-accent=indigo data-md-color-primary=indigo data-md-color-scheme=default id=__palette_1 name=__palette type=radio><label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_0 hidden><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg></label></form><script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script><div class=md-header__option><div class=md-select><button aria-label="انتخاب زبان" class="md-header__button md-icon"><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg></button><div class=md-select__inner><ul class=md-select__list><li class=md-select__item><a class=md-select__link href=/ hreflang=en> English </a><li class=md-select__item><a class=md-select__link href=/zh/ hreflang=zh> 中文 </a><li class=md-select__item><a class=md-select__link href=/hi/ hreflang=hi> हिन्दी </a><li class=md-select__item><a class=md-select__link href=/ru/ hreflang=ru> Русский </a><li class=md-select__item><a class=md-select__link href=/ko/ hreflang=ko> 한국어 </a><li class=md-select__item><a class=md-select__link href=/fa/ hreflang=fa> فارسی </a><li class=md-select__item><a class=md-select__link href=/pt/ hreflang=pt> Português </a><li class=md-select__item><a class=md-select__link href=/id/ hreflang=id> Bahasa Indonesia </a><li class=md-select__item><a class=md-select__link href=/vi/ hreflang=vi> Tiếng Việt </a></ul></div></div></div><label class="md-header__button md-icon" for=__search><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg></label><div class=md-search data-md-component=search role=dialog><label class=md-search__overlay for=__search></label><div class=md-search__inner role=search><form class=md-search__form name=search><input aria-label=جستجو autocapitalize=off autocomplete=off autocorrect=off class=md-search__input data-md-component=search-query name=query placeholder=جستجو required spellcheck=false type=text><label class="md-search__icon md-icon" for=__search><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg></label><nav aria-label=جستجو class=md-search__options><a class="md-search__icon md-icon" aria-label=هم‌رسانی data-clipboard data-clipboard-text data-md-component=search-share href=javascript:void(0) tabindex=-1 title=هم‌رسانی> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a><button class="md-search__icon md-icon" aria-label=بازنشانی tabindex=-1 title=بازنشانی type=reset><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg></button></nav></form><div class=md-search__output><div class=md-search__scrollwrap data-md-scrollfix tabindex=0><div class=md-search-result data-md-component=search-result><div class=md-search-result__meta>راه‌اندازی جستجو</div><ol class=md-search-result__list role=presentation></ol></div></div></div></div></div><div class=md-header__source><a title="رفتن به مخزن" class=md-source data-md-component=source href=https://github.com/vendelieu/telegram-bot> <div class="md-source__icon md-icon"><svg viewbox="0 0 512 512" xmlns=http://www.w3.org/2000/svg><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg></div> <div class=md-source__repository>vendelieu/telegram-bot</div> </a></div></nav></header><div class=md-container data-md-component=container><nav aria-label=زبانه‌ها class=md-tabs data-md-component=tabs><div class=md-grid><ul class=md-tabs__list><li class="md-tabs__item md-tabs__item--active"><a class=md-tabs__link href=./> Home </a><li class=md-tabs__item><a class=md-tabs__link href=Actions/> Documentation </a><li class=md-tabs__item><a class=md-tabs__link href=https://vendelieu.github.io/telegram-bot/> API Reference </a></ul></div></nav><main class=md-main data-md-component=main><div class="md-main__inner md-grid"><div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation><div class=md-sidebar__scrollwrap><div class=md-sidebar__inner><nav class="md-nav md-nav--primary md-nav--lifted" aria-label=هدایت data-md-level=0><label class=md-nav__title for=__drawer><a aria-label="Telegram bot" class="md-nav__button md-logo" title="Telegram bot" data-md-component=logo href=./> <img alt=logo src=../assets/img/lib-logo.png> </a> Telegram bot</label><div class=md-nav__source><a title="رفتن به مخزن" class=md-source data-md-component=source href=https://github.com/vendelieu/telegram-bot> <div class="md-source__icon md-icon"><svg viewbox="0 0 512 512" xmlns=http://www.w3.org/2000/svg><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg></div> <div class=md-source__repository>vendelieu/telegram-bot</div> </a></div><ul class=md-nav__list data-md-scrollfix><li class="md-nav__item md-nav__item--active"><input class="md-nav__toggle md-toggle" id=__toc type=checkbox> <label class="md-nav__link md-nav__link--active" for=__toc><span class=md-ellipsis> Home </span> <span class="md-nav__icon md-icon"></span></label> <a class="md-nav__link md-nav__link--active" href=./> <span class=md-ellipsis> Home </span> </a> <nav aria-label="On this page" class="md-nav md-nav--secondary"><label class=md-nav__title for=__toc><span class="md-nav__icon md-icon"></span> On this page</label><ul class=md-nav__list data-md-component=toc data-md-scrollfix><li class=md-nav__item><a class=md-nav__link href=#_1> <span class=md-ellipsis> مقدمه </span> </a><li class=md-nav__item><a class=md-nav__link href=#_2> <span class=md-ellipsis> پردازش </span> </a><li class=md-nav__item><a class=md-nav__link href=#_3> <span class=md-ellipsis> مدیریت </span> </a><li class=md-nav__item><a class=md-nav__link href=#_4> <span class=md-ellipsis> محدودکننده سرعت جهانی </span> </a><li class=md-nav__item><a class=md-nav__link href=#_5> <span class=md-ellipsis> تجزیه متن </span> </a><li class=md-nav__item><a class=md-nav__link href=#_6> <span class=md-ellipsis> یافتن فعالیت </span> </a> <nav aria-label="یافتن فعالیت" class=md-nav><ul class=md-nav__list><li class=md-nav__item><a class=md-nav__link href=#_7> <span class=md-ellipsis> دستورات </span> </a> <nav aria-label=دستورات class=md-nav><ul class=md-nav__list><li class=md-nav__item><a class=md-nav__link href=#_8> <span class=md-ellipsis> حوزه‌ها </span> </a></ul></nav><li class=md-nav__item><a class=md-nav__link href=#_9> <span class=md-ellipsis> ورودی‌ها </span> </a><li class=md-nav__item><a class=md-nav__link href=#_10> <span class=md-ellipsis> عمومی‌ها </span> </a><li class=md-nav__item><a class=md-nav__link href=#_11> <span class=md-ellipsis> پردازش‌نشده </span> </a></ul></nav><li class=md-nav__item><a class=md-nav__link href=#_12> <span class=md-ellipsis> محدودکننده سرعت فعالیت </span> </a><li class=md-nav__item><a class=md-nav__link href=#_13> <span class=md-ellipsis> فعالیت </span> </a><li class=md-nav__item><a class=md-nav__link href=#_14> <span class=md-ellipsis> فراخوانی </span> </a><li class=md-nav__item><a class=md-nav__link href=#_15> <span class=md-ellipsis> همچنین ببینید </span> </a></ul></nav><li class="md-nav__item md-nav__item--nested"><input class="md-nav__toggle md-toggle" id=__nav_2 type=checkbox> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0><span class=md-ellipsis> Documentation </span> <span class="md-nav__icon md-icon"></span></label> <nav aria-expanded=false aria-labelledby=__nav_2_label class=md-nav data-md-level=1><label class=md-nav__title for=__nav_2><span class="md-nav__icon md-icon"></span> Documentation</label><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a class=md-nav__link href=Actions/> <span class=md-ellipsis> Actions </span> </a><li class=md-nav__item><a class=md-nav__link href=Activites-and-Processors/> <span class=md-ellipsis> فعالیت‌ها و پردازنده‌ها </span> </a><li class=md-nav__item><a class=md-nav__link href=Activity-invocation/> <span class=md-ellipsis> Activity Invocation </span> </a><li class=md-nav__item><a class=md-nav__link href=Bot-Context/> <span class=md-ellipsis> Bot Context </span> </a><li class=md-nav__item><a class=md-nav__link href=Bot-configuration/> <span class=md-ellipsis> Bot Configuration </span> </a><li class=md-nav__item><a class=md-nav__link href=F.A.Q/> <span class=md-ellipsis> F.A.Q </span> </a><li class=md-nav__item><a class=md-nav__link href=FSM-and-Conversation-handling/> <span class=md-ellipsis> FSM and Conversation handling </span> </a><li class=md-nav__item><a class=md-nav__link href=Functional-DSL/> <span class=md-ellipsis> Functional Dsl </span> </a><li class=md-nav__item><a class=md-nav__link href=Guards/> <span class=md-ellipsis> Guards </span> </a><li class=md-nav__item><a class=md-nav__link href=Handlers/> <span class=md-ellipsis> Handlers </span> </a><li class=md-nav__item><a class=md-nav__link href=Interceptors-%28middleware%29/> <span class=md-ellipsis> Interceptors (Middleware) </span> </a><li class=md-nav__item><a class=md-nav__link href=Update-parsing/> <span class=md-ellipsis> به‌روزرسانی پارسینگ </span> </a><li class=md-nav__item><a class=md-nav__link href=Useful-utilities-and-tips/> <span class=md-ellipsis> ابزارهای مفید و نکات </span> </a><li class=md-nav__item><a class=md-nav__link href=Web-starters-%28Spring-and-Ktor%29/> <span class=md-ellipsis> Web Starters (Spring And Ktor) </span> </a></ul></nav><li class=md-nav__item><a class=md-nav__link href=https://vendelieu.github.io/telegram-bot/> <span class=md-ellipsis> API Reference </span> </a></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc><div class=md-sidebar__scrollwrap><div class=md-sidebar__inner><nav aria-label="On this page" class="md-nav md-nav--secondary"><label class=md-nav__title for=__toc><span class="md-nav__icon md-icon"></span> On this page</label><ul class=md-nav__list data-md-component=toc data-md-scrollfix><li class=md-nav__item><a class=md-nav__link href=#_1> <span class=md-ellipsis> مقدمه </span> </a><li class=md-nav__item><a class=md-nav__link href=#_2> <span class=md-ellipsis> پردازش </span> </a><li class=md-nav__item><a class=md-nav__link href=#_3> <span class=md-ellipsis> مدیریت </span> </a><li class=md-nav__item><a class=md-nav__link href=#_4> <span class=md-ellipsis> محدودکننده سرعت جهانی </span> </a><li class=md-nav__item><a class=md-nav__link href=#_5> <span class=md-ellipsis> تجزیه متن </span> </a><li class=md-nav__item><a class=md-nav__link href=#_6> <span class=md-ellipsis> یافتن فعالیت </span> </a> <nav aria-label="یافتن فعالیت" class=md-nav><ul class=md-nav__list><li class=md-nav__item><a class=md-nav__link href=#_7> <span class=md-ellipsis> دستورات </span> </a> <nav aria-label=دستورات class=md-nav><ul class=md-nav__list><li class=md-nav__item><a class=md-nav__link href=#_8> <span class=md-ellipsis> حوزه‌ها </span> </a></ul></nav><li class=md-nav__item><a class=md-nav__link href=#_9> <span class=md-ellipsis> ورودی‌ها </span> </a><li class=md-nav__item><a class=md-nav__link href=#_10> <span class=md-ellipsis> عمومی‌ها </span> </a><li class=md-nav__item><a class=md-nav__link href=#_11> <span class=md-ellipsis> پردازش‌نشده </span> </a></ul></nav><li class=md-nav__item><a class=md-nav__link href=#_12> <span class=md-ellipsis> محدودکننده سرعت فعالیت </span> </a><li class=md-nav__item><a class=md-nav__link href=#_13> <span class=md-ellipsis> فعالیت </span> </a><li class=md-nav__item><a class=md-nav__link href=#_14> <span class=md-ellipsis> فراخوانی </span> </a><li class=md-nav__item><a class=md-nav__link href=#_15> <span class=md-ellipsis> همچنین ببینید </span> </a></ul></nav></div></div></div><div class=md-content data-md-component=content><article class="md-content__inner md-typeset"><h1>Home</h1><h3 id=_1>مقدمه<a title="Permanent link" class=headerlink href=#_1>¶</a></h3><p>بیایید ایده‌ای از اینکه چگونه کتابخانه به‌طور کلی به روزرسانی‌ها را مدیریت می‌کند، بدست آوریم:<p align=center><img alt="نمودار فرآیند مدیریت" src=https://github.com/vendelieu/telegram-bot/assets/3987067/442cc5f1-0256-425a-9f25-185fdd49fe0a><p>پس از دریافت یک به‌روزرسانی، کتابخانه سه مرحله اصلی را اجرا می‌کند، همانطور که می‌توانیم ببینیم.<h3 id=_2>پردازش<a title="Permanent link" class=headerlink href=#_2>¶</a></h3><p>پردازش بازپیچی به‌روزرسانی دریافتی به زیرکلاس مناسب <a href=https://vendelieu.github.io/telegram-bot/telegram-bot/eu.vendeli.tgbot.types.component/-processed-update/index.html><code>ProcessedUpdate</code></a> بسته به بار حمل شده است.<p>این مرحله برای تسهیل عملیات به‌روزرسانی و توسعه توانایی‌های پردازشی لازم است.<h3 id=_3>مدیریت<a title="Permanent link" class=headerlink href=#_3>¶</a></h3><p>مرحله اصلی بعدی، در اینجا به خود مدیریت می‌رسیم.<h3 id=_4>محدودکننده سرعت جهانی<a title="Permanent link" class=headerlink href=#_4>¶</a></h3><p>اگر کاربری در به‌روزرسانی وجود داشته باشد، از ارتکاب به محدودکننده سرعت جهانی بررسی می‌کنیم.<h3 id=_5>تجزیه متن<a title="Permanent link" class=headerlink href=#_5>¶</a></h3><p>بسته به بار، ما یک کامپوننت به‌روزرسانی خاص حاوی متن را انتخاب کرده و براساس پیکربندی آن را تجزیه می‌کنیم.<p>جزئیات بیشتر را می‌توانید در <a href=Update-parsing/>مقاله تجزیه به‌روزرسانی</a> ببینید.<h3 id=_6>یافتن فعالیت<a title="Permanent link" class=headerlink href=#_6>¶</a></h3><p>بسته به اولویت پردازش:<p align=center><img alt="نمودار اولویت مدیریت" src=https://github.com/vendelieu/telegram-bot/assets/3987067/6178c410-9b9e-4045-9f03-4791b3f49894><p>ما در حال جستجوی تطبیق بین داده‌های تجزیه شده و فعالیت‌هایی هستیم که روی آن‌ها عمل می‌کنیم. همانطور که در نمودار اولویت می‌بینیم، <code>دستورات</code> همیشه اول هستند.<p>یعنی اگر بار متنی در به‌روزرسانی با هر دستوری مطابقت داشته باشد، جستجوی بیشتر برای <code>ورودی‌ها</code>، <code>عمومی</code> و البته اجرای عمل <code>پردازش‌نشده</code> انجام نخواهد شد.<p>تنها چیزی این است که اگر <code>UpdateHandlers</code> وجود داشته باشد، بدون درنظر گرفتن همزمان اجرا خواهد شد.<h4 id=_7>دستورات<a title="Permanent link" class=headerlink href=#_7>¶</a></h4><p>بیایید به دستورات و پردازش آن‌ها نزدیک‌تر نگاه کنیم.<p>همانطور که ممکن است متوجه شده باشید، اگرچه نشانه‌گذاری برای پردازش دستورات <a href=https://vendelieu.github.io/telegram-bot/telegram-bot/eu.vendeli.tgbot.annotations/-command-handler/index.html><code>CommandHandler</code></a> نامیده می‌شود، اما از مفهوم کلاسیک در ربات‌های تلگرام وسیع‌تر است.<h5 id=_8>حوزه‌ها<a title="Permanent link" class=headerlink href=#_8>¶</a></h5><p>این به این دلیل است که آن دارای دامنه‌ای وسیع‌تر از امکانات پردازشی است، یعنی تابع هدف می‌تواند نه تنها بسته به تطبیق متن، بلکه بسته به نوع یک به‌روزرسانی مناسب نیز تعریف شود، این مفهوم حوزه‌هاست.<p>به این ترتیب، هر دستور می‌تواند دستگیره‌های متفاوتی برای فهرست متفاوتی از حوزه‌ها داشته باشد، یا بالعکس، یک دستور برای چندتا.<p>در زیر می‌توانید ببینید که چگونه نقشه‌برداری توسط بار متنی و حوزه انجام می‌شود:<p align=center><img alt="نمودار حوزه دستور" src=https://github.com/vendelieu/telegram-bot/assets/3987067/c870027e-750e-4bb8-a2ed-45ad93a55875><h4 id=_9>ورودی‌ها<a title="Permanent link" class=headerlink href=#_9>¶</a></h4><p>بعد، اگر بار متنی با هیچ دستوری مطابقت نداشته باشد، نقاط ورودی جستجو می‌شوند.<p>مفهوم بسیار شبیه به انتظار ورودی در برنامه‌های خط فرمان است، شما یک نقطه در متن بات برای یک کاربر خاص قرار می‌دهید که ورودی بعدی او را مدیریت می‌کند، مهم نیست چه چیزی دارد، مهم این است که به‌روزرسانی بعدی <code>User</code> داشته باشد تا بتوان آن را با نقطه انتظار ورودی تنظیم شده مرتبط کرد.<p>در زیر می‌توانید مثالی از پردازش یک به‌روزرسانی را هنگامی که هیچ مطابقتی با <code>دستورات</code> وجود ندارد، مشاهده کنید.<p align=center><img alt="نمودار مثال اولویت" src=https://github.com/vendelieu/telegram-bot/assets/3987067/925d3e05-0985-43d5-8d6f-b3f2786ff212><h4 id=_10>عمومی‌ها<a title="Permanent link" class=headerlink href=#_10>¶</a></h4><p>اگر دستگیره هیچ <code>دستوری</code> یا <code>ورودی</code> پیدا نکند، بار متن را در مقابل دستگیره‌های <code>عمومی</code> بررسی می‌کند.<p>ما توصیه می‌کنیم بدون سوء استفاده از آن استفاده نکنید، زیرا آن با انجام تکرار بر روی تمام ورودی‌ها بررسی می‌کند.<h4 id=_11>پردازش‌نشده<a title="Permanent link" class=headerlink href=#_11>¶</a></h4><p>و مرحله نهایی، اگر دستگیره هیچ فعالیت تطبیقی (<a href=https://vendelieu.github.io/telegram-bot/telegram-bot/eu.vendeli.tgbot.annotations/-update-handler/index.html><code>UpdateHandler</code></a> کاملاً موازی کار می‌کند و به عنوان فعالیت معمولی محسوب نمی‌شود) پیدا نکند، سپس <a href=https://vendelieu.github.io/telegram-bot/telegram-bot/eu.vendeli.tgbot.annotations/-unprocessed-handler/index.html><code>UnprocessedHandler</code></a> به کار می‌آید، اگر تنظیم شده باشد، این مورد را مدیریت می‌کند، ممکن است مفید باشد تا به کاربر هشدار دهید که چیزی اشتباه رفته است.<p>جزئیات بیشتر را در <a href=Handlers/>مقاله دستگیره‌ها</a> بخوانید.<h3 id=_12>محدودکننده سرعت فعالیت<a title="Permanent link" class=headerlink href=#_12>¶</a></h3><p>پس از یافتن یک فعالیت، محدودیت‌های سرعت کاربر را بر روی آن نیز براساس پارامترهای مشخص شده در پارامترهای فعالیت بررسی می‌کند.<h3 id=_13>فعالیت<a title="Permanent link" class=headerlink href=#_13>¶</a></h3><p>فعالیت به انواع مختلف دستگیره‌هایی اشاره دارد که کتابخانه ربات تلگرام می‌تواند مدیریت کند، شامل دستورات، ورودی‌ها، عبارات منظم و دستگیره پردازش‌نشده.<h3 id=_14>فراخوانی<a title="Permanent link" class=headerlink href=#_14>¶</a></h3><p>مرحله نهایی پردازش، فراخوانی فعالیت یافت شده است.<p>جزئیات بیشتر را می‌توانید در <a href=Activity-invocation/>مقاله فراخوانی</a> بیابید.<h3 id=_15>همچنین ببینید<a title="Permanent link" class=headerlink href=#_15>¶</a></h3><ul><li><a href=Update-parsing/>تجزیه به‌روزرسانی</a><li><a href=Activity-invocation/>فراخوانی فعالیت</a><li><a href=Handlers/>دستگیره‌ها</a><li><a href=Bot-configuration/>پیکربندی ربات</a><li><a href=Web-starters-(Spring-and-Ktor.md)>شروع‌کننده‌های وب (Spring, Ktor)</a></ul><hr></article></div><script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script></div><button class="md-top md-icon" data-md-component=top hidden type=button><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> برگشت به بالا</button></main><footer class=md-footer><nav class="md-footer__inner md-grid" aria-label=پاورقی><a aria-label="بعدی: Actions" class="md-footer__link md-footer__link--next" href=Actions/> <div class=md-footer__title><span class=md-footer__direction> بعدی </span><div class=md-ellipsis>Actions</div></div> <div class="md-footer__button md-icon"><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg></div> </a></nav><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class=md-copyright>Made with <a href=https://squidfunk.github.io/mkdocs-material/ rel=noopener target=_blank> Material for MkDocs </a></div></div></div></footer></div><div class=md-dialog data-md-component=dialog><div class="md-dialog__inner md-typeset"></div></div><script id=__config type=application/json>{"annotate": null, "base": "..", "features": ["content.code.annotate", "content.code.copy", "navigation.footer", "navigation.tabs", "navigation.top", "navigation.tracking", "search.share", "toc.follow"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "\u06a9\u067e\u06cc \u0634\u062f", "clipboard.copy": "\u06a9\u067e\u06cc \u06a9\u0631\u062f\u0646", "search.result.more.one": "1 \u0645\u0648\u0631\u062f \u062f\u06cc\u06af\u0631 \u062f\u0631 \u0627\u06cc\u0646 \u0635\u0641\u062d\u0647", "search.result.more.other": "# \u0645\u0648\u0631\u062f \u062f\u06cc\u06af\u0631 \u062f\u0631 \u0627\u06cc\u0646 \u0635\u0641\u062d\u0647", "search.result.none": "\u0633\u0646\u062f\u06cc \u06cc\u0627\u0641\u062a \u0646\u0634\u062f", "search.result.one": "1 \u0633\u0646\u062f \u06cc\u0627\u0641\u062a \u0634\u062f", "search.result.other": "# \u0633\u0646\u062f \u06cc\u0627\u0641\u062a \u0634\u062f", "search.result.placeholder": "\u0628\u0631\u0627\u06cc \u0634\u0631\u0648\u0639 \u062c\u0633\u062a\u062c\u0648 \u062a\u0627\u06cc\u067e \u06a9\u0646\u06cc\u062f", "search.result.term.missing": "\u0645\u0648\u062c\u0648\u062f \u0646\u06cc\u0633\u062a", "select.version": "\u0627\u0646\u062a\u062e\u0627\u0628 \u0648\u06cc\u0631\u0627\u06cc\u0634"}, "version": null}</script><script src=../assets/javascripts/bundle.79ae519e.min.js></script>